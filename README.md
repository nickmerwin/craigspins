Craigspin's
===========

Add this bookmarklet:


```javascript
javascript:(function(){var g=Math.floor($(window).width()/232);$(window).resize(function(){$("body").css({paddingLeft:($(window).width()-232*g)/2})});var p=$("body").html(),d=$("<form/>",{id:"qForm"}),b=$("<input/>",{id:"q"}).css({cssFloat:"left",width:183,border:"1px solid",lineHeight:1.3,boxShadow:"0 1px #fff, inset 0 1px rgba(34,25,25,0.05)","-moz-box-shadow":"0 1px #fff, inset 0 1px rgba(34,25,25,0.05)","-webkit-box-shadow":"0 1px #fff, inset 0 1px rgba(34,25,25,0.05)",fontSize:13,borderColor:"#C2C0C0 #CCCACA #D1CFCF", padding:5,backgroundColor:"#FAF7F7",margin:0}),c=$("<a/>",{id:"qBtn",href:"#"}).css({cssFloat:"left",marginLeft:-1,padding:"7px 7px 2px",minHeight:17,border:"1px solid",boxShadow:"0 1px rgba(255,255,255,0.9), inset 0 0 2px rgba(255,255,255,0.75)","-moz-box-shadow":"0 1px rgba(255,255,255,0.9), inset 0 0 2px rgba(255,255,255,0.75)","-webkit-box-shadow":"0 1px rgba(255,255,255,0.9), inset 0 0 2px rgba(255,255,255,0.75)",borderColor:"#C2C0C0 #CCCACA #D1CFCF"}).append($("<img/>",{src:"http://passets-cdn.pinterest.com/images/search.gif"})), b=$("<div/>",{id:"qWr"}).css({cssFloat:"left",margin:"8px 0 0",paddingLeft:15}).append(d.append(b).append(c)),q=$("<div/>",{id:"logo"}).css({position:"absolute",marginLeft:-50,left:"50%",top:7}).append($("<img/>",{src:"http://lemurheavy.com/images/craigspin/logo.png"})),b=$("<div/>",{id:"nav"}).css({position:"fixed",height:44,top:0,left:0,width:"100%",backgroundColor:"#FAF7F7",boxShadow:"inset 0 1px #fff, 0 1px 3px rgba(34,25,25,0.4)",zIndex:103,"-webkit-box-shadow":"inset 0 1px #fff, 0 1px 3px rgba(34,25,25,0.4)", "-moz-box-shadow":"inset 0 1px #fff, 0 1px 2px rgba(34,25,25,0.4)"}).append(b).append(q);$("html").css({background:'url("http://lemurheavy.com/images/craigspin/paper.jpg")'});$("body").css({margin:0,fontFamily:"'helvetica neue', arial, sans-serif",fontSize:"11px",background:"transparent"}).html($("<div/>",{id:"wr",style:"padding:60px 0 0; width:100%;"})).append($("<div/>",{id:"parser"}).css({display:"none"})).append(b);$("#q").focus(function(){$(this).css({backgroundColor:"#fff"})}).blur(function(){$(this).css({backgroundColor:"#FAF7F7"})}); b=function(){try{for(var f=$("#q").val(),a=0;a<g;a++)h[a].html("");j=0;k=f;l(f,0);return!1}catch(e){return console.log(e),!1}};d.submit(b);c.click(b);$("body").css({paddingLeft:($(window).width()-232*g)/2});for(var h=[],d=0;d<g;d++)c=$("<div/>").css({width:222,cssFloat:"left",marginLeft:10}),0==d&&c.css({marginLeft:0}),h.push(c),$("#wr").append(c);$("#wr").append($("<div/>").css({clear:"both",cssFloat:"none"}));var j=0,k=(window.location.search.match(/query=(.*?)(&|$)/)||[])[1],r=window.location.pathname.match(/(\w{3})\/?$/)[1], l=function(f,a){console.log("loadPage: "+f);$.get("/search/"+r+"?query="+(f||"")+"&s="+100*a,function(a){m(a)||(n=!0);i=!1})},n=!1,i=!1;$(window).scroll(function(){!i&&(!n&&$(window).scrollTop()+$(window).height()>$("#wr").height()-$(window).height())&&(i=!0,l(k,++j))});var m=function(f){console.log("parsing!");count=0;$("#parser").html(f).find("span.i").add("span.ih").add("span.p").each(function(){var a=$(this).parents("p").find("a");(id=this.id.match(/images:(.*?)$/))?o("http://images.craigslist.org/"+ id[1],a):$.get(a[0].href,function(e){(e=$(e).find("img").attr("src"))&&e.match(/images\.craigslist\.org/)&&o(e,a)});count++});return 0<count},o=function(f,a){var e=a.parents("p").html();if(e){for(var b=a[0].href,d=a[0].innerHTML,c=a[1]&&a[1].innerHTML,i=a[1]&&a[1].href,j=(e.match(/(\$.*?)</)||[])[1],e=(e.match(/\((.*?)\)/)||[])[1],b=$("<div/>",{style:"padding:15px 15px 0; margin: 0 0 10px; overflow: hidden; background-color:#fff; -moz-box-shadow: 0 1px 2px rgba(34,25,25,0.4); -webkit-box-shadow: 0 1px 3px rgba(34,25,25,0.4); box-shadow: 0 1px 3px rgba(34,25,25,0.4);"}).append($("<a/>", {href:b,target:"_blank"}).append($("<img/>",{src:f,style:"width:192px"}))).append($("<div/>").css({margin:"10px 0"}).html($("<a/>",{href:b,target:"_blank"}).css({color:"#000",textDecoration:"none"}).html("<b>"+(j||"")+"</b> "+d.substr(0,20)))).append($("<div/>").css({padding:10,margin:"0 -15px",backgroundColor:"#eee"}).html($("<a/>",{href:i,target:"_blank"}).css({color:"#8C7E7E",fontWeight:"bold",textTransform:"capitalize",textDecoration:"none"}).html(c+" ("+e+")"))),d=h[0],c=0;c<g;c++)h[c].height()< d.height()&&(d=h[c]);d.append(b)}};m(p)})();
```


Run from Craigslist url ie: 

http://losangeles.craigslist.org/sss/

Compiled using:

http://closure-compiler.appspot.com/home

And encoded using:

http://scriptasylum.com/tutorials/encode-decode.html